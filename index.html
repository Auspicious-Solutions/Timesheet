<!DOCTYPE html>
<html>
<head>
  <title>Timesheet App</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 8px; }
    th { background: #f4f4f4; }
    input { width: 100%; border: none; }
    .action-btn { cursor: pointer; color: white; background: #007bff; border: none; padding: 5px 10px; border-radius: 5px; }
  </style>
</head>
<body>

<h2>Timesheet App</h2>
<table id="timesheet">
  <thead>
    <tr>
      <th>Date</th>
      <th>Start Time</th>
      <th>End Time</th>
      <th>Client</th>
      <th>Work Type</th>
      <th>Description</th>
      <th>Sub Client</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<br>
<button onclick="startTask()" class="action-btn">Start Task</button>

<script>
  function getCurrentDateTime() {
    const now = new Date();
    const date = now.toISOString().split("T")[0];
    const time = now.toTimeString().split(" ")[0];
    return { date, time };
  }

  function startTask() {
    const table = document.getElementById("timesheet").getElementsByTagName("tbody")[0];
    const { date, time } = getCurrentDateTime();

    // If thereâ€™s a previous row, update its end time
    const lastRow = table.rows[table.rows.length - 1];
    if (lastRow) {
      const endTimeCell = lastRow.cells[2];
      if (!endTimeCell.firstChild.value) {
        endTimeCell.firstChild.value = time;
      }
    }

    // Add new row
    const newRow = table.insertRow();
    const fields = ['date', 'startTime', 'endTime', 'client', 'workType', 'description', 'subClient'];

    fields.forEach((field, i) => {
      const cell = newRow.insertCell();
      const input = document.createElement("input");
      input.type = "text";

      // Auto-fill date and start time
      if (field === 'date') input.value = date;
      if (field === 'startTime') input.value = time;

      cell.appendChild(input);
    });

    // Action column (optional)
    const actionCell = newRow.insertCell();
    actionCell.innerHTML = '<button onclick="startTask()" class="action-btn">Start</button>';
  }
</script>

</body>
</html>
